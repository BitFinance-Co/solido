"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8114],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(n),m=a,h=p["".concat(s,".").concat(m)]||p[m]||u[m]||i;return n?o.createElement(h,r(r({ref:t},d),{},{components:n})):o.createElement(h,r({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var c=2;c<i;c++)r[c]=n[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9498:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},metadata:function(){return s},toc:function(){return c},default:function(){return u}});var o=n(2122),a=n(9756),i=(n(7294),n(3905)),r=["components"],l={},s={unversionedId:"internals/commission",id:"internals/commission",isDocsHomePage:!1,title:"Commission",description:"This page explains how Lido for Solana (\u201cSolido\u201d) handles validation rewards.",source:"@site/docs/internals/commission.md",sourceDirName:"internals",slug:"/internals/commission",permalink:"/solido/internals/commission",version:"current",frontMatter:{},sidebar:"solidoSidebar",previous:{title:"Token",permalink:"/solido/development/specification/solido/token"},next:{title:"Deployments",permalink:"/solido/deployments"}},c=[{value:"Challenge",id:"challenge",children:[]},{value:"Solido vote accounts",id:"solido-vote-accounts",children:[]}],d={toc:c};function u(e){var t=e.components,n=(0,a.Z)(e,r);return(0,i.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This page explains how Lido for Solana (\u201cSolido\u201d) handles validation rewards.\nBefore we dive into this, let\u2019s briefly recap how staking works on Solana."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Validators create a ",(0,i.kt)("em",{parentName:"li"},"vote account"),". A vote account has an ",(0,i.kt)("em",{parentName:"li"},"identity address"),"\nof an account that contains the metadata for the validator, such as its\ndescription."),(0,i.kt)("li",{parentName:"ul"},"Multiple vote accounts can refer to the same validator identity, but a\n",(0,i.kt)("inlineCode",{parentName:"li"},"solana-validator")," process can only validate on behalf of one vote account at\na time."),(0,i.kt)("li",{parentName:"ul"},"Delegators delegate to a vote account, not to a validator identity!"),(0,i.kt)("li",{parentName:"ul"},"A vote account also has a ",(0,i.kt)("em",{parentName:"li"},"commission")," percentage, that determines the\nportion of validation rewards that goes to the vote account. The remainder\ngoes to delegators."),(0,i.kt)("li",{parentName:"ul"},"A vote account has a ",(0,i.kt)("em",{parentName:"li"},"withdraw authority")," who can withdraw the validation\nrewards from the vote account. Usually the withdraw authority is the vote\naccount itself, but it can be a different address.")),(0,i.kt)("h2",{id:"challenge"},"Challenge"),(0,i.kt)("p",null,"Lido for Solana faced the following challenge:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"We want many validators to be able to join."),(0,i.kt)("li",{parentName:"ul"},"These validators may have different validation fees (commissions) for their\npublic vote accounts."),(0,i.kt)("li",{parentName:"ul"},"We (Lido) want to decide the validation fee percentage, and it should be the\nsame for all validators.")),(0,i.kt)("p",null,"If we would allow validators to join with their public vote account, those would\nhave different commissions, and either some validators would take more\ncommission than the percentage set by Lido, or these validators would not be\nable to join."),(0,i.kt)("h2",{id:"solido-vote-accounts"},"Solido vote accounts"),(0,i.kt)("p",null,"To level the playing field for validators, we ask them to create a new vote\naccount for use with Solido. We could ask validators to set the commission of\nthose vote accounts to the percentage decided by Lido, but this creates new\nproblems:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"If we set a lower validation fee percentage than the commissions of existing\npublic vote accounts, users might flock away from the existing vote accounts,\nand delegate to the Solido vote accounts directly. Users who do this would\nnot benefit from Solido\u2019s advantages (a liquid token, and spreading risk),\nbut it would still undermine the validator\u2019s public vote accounts.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Changing the validation fee percentage requires action from all validators."))),(0,i.kt)("p",null,"To address this, we require validators to set the commission to 100%, but set\nthe ",(0,i.kt)("em",{parentName:"p"},"withdraw authority")," of the vote account to an address controlled by Solido.\nThis has the following consequences:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"It is no longer interesting for users to delegate directly to this vote\naccount, because they would not gain any rewards.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Only the Solido program has access to validation rewards. This means that\nSoldio can distribute the validation fees, and should the percentage need to\nchange, it can be done in a single place."))),(0,i.kt)("p",null,"An additional advantage of Solido distributing validation fees, is that it can\ndistribute them in the form of stSOL. This means that validators automatically\nget compounding rewards, and it aligns the interests of validators with those of\nstSOL holders."))}u.isMDXComponent=!0}}]);